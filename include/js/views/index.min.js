function updateCalendar(a,b,c){b=a.$get("url")+"&y="+c+"&m="+b;Vue.set(a,"url",b);updateView(a)}var accordIndex=new accordion2("block_index",{classNames:{toggle:"win_none",toggleActive:"win_block",content:"blockaccordion_content"}});
function initializeBlockaccordeon(){var a=document.querySelectorAll("#block_index > div .headline > a");for(i=0;i<a.length;i++){var b=a[i].getAttribute("id");blockIds.push(b);readCookie("activeSlideIndex");b=a[i].getAttribute("onclick");b+="activateAccordeon("+i+");";a[i].setAttribute("onclick",b)}activateAccordeon(0)}openSlide=0;blockIds=[];function activateAccordeon(a){accordIndex.toggle(document.querySelectorAll("#block_index .blockaccordion_content")[a]);setCookie("activeSlideIndex",a)}
var projects={el:"desktopprojects",url:"index.php?action=myprojects",itemType:"project",dependencies:[]},tasks={el:"desktoptasks",itemType:"task",url:"index.php?action=mytasks",dependencies:[]},messages={el:"desktopmessages",itemType:"message",url:"index.php?action=mymessages",dependencies:[]},desktopCalendar={el:"desktopCalendar",itemType:"calendar",url:"manageajax.php?action=indexCalendar",dependencies:[]},projectsView=createView(projects),tasksView=createView(tasks),msgsView=createView(messages),
calendarView=createView(desktopCalendar);Vue.set(projectsView,"dependencies",[tasksView,msgsView]);function formSubmited(){blindtoggle("form_addmyproject");toggleClass("sm_deskprojects","smooth","nosmooth");toggleClass("add_butn_myprojects","butn_link_active","butn_link")}var addProjectForm=document.getElementById("addprojectform"),formView=projectsView;addProjectForm.addEventListener("submit",submitForm.bind(formView));projectsView.afterLoad(initializeBlockaccordeon);var accord_projects;
projectsView.afterUpdate(function(){accord_projects=new accordion2("desktopprojects")});var accord_tasks;tasksView.afterUpdate(function(){accord_tasks=new accordion2("desktoptasks")});var accord_msgs;msgsView.afterUpdate(function(){accord_msgs=new accordion2("desktopmessages")});
