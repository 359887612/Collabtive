var projects={el:"desktopprojects",url:"index.php?action=myprojects",dependencies:[]},tasks={el:"desktoptasks",url:"index.php?action=mytasks",dependencies:[]},messages={el:"desktopmessages",url:"index.php?action=mymessages",dependencies:[]},projectsView=createView(projects),tasksView=createView(tasks),msgsView=createView(messages);projectsView.$set("dependencies",[tasksView,msgsView]);var addProjectForm=document.getElementById("addprojectform"),formView=projectsView;
addProjectForm.addEventListener("submit",submitForm.bind(formView));changeshow("manageajax.php?action=newcal","thecal","progress");try{var accord_projects=new accordion("projecthead"),accord_tasks=new accordion("taskhead"),accord_msgs=new accordion("activityhead")}catch(e$$4){}var accordIndex=new accordion("block_index",{classNames:{toggle:"acc_toggle",toggleActive:"acctoggle_active",content:"acc_content"}});
function activateAccordeon(a){accordIndex.activate($$("#block_index .acc_toggle")[a]);changeElements("#"+blockIds[a]+" > a.win_block","win_none");setCookie("activeSlideIndex",a)}var theBlocks=$$("#block_index > div .headline > a");openSlide=0;blockIds=[];
for(i=0;i<theBlocks.length;i++){var theId=theBlocks[i].getAttribute("id");blockIds.push(theId);theCook=readCookie("activeSlideIndex");0<theCook&&(openSlide=theCook);var theAction=theBlocks[i].getAttribute("onclick"),theAction=theAction+("activateAccordeon("+i+");");theBlocks[i].setAttribute("onclick",theAction)}activateAccordeon(0);
